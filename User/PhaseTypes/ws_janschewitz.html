<!-- it can help to add a description between the --'s of what this code does -->
<link rel="stylesheet" href="../../collector-experiments/User/Assets/Global/css/global_css.css">
<link rel="stylesheet" href="../../collector-experiments/User/Assets/Global/css/radio_buttons.css">
<style>
  b{
    color: #20669b;
  }
  #container {
    margin-top:5%;
  }
  #container p {
    text-align: center;
    width: 92%!important;
  }
  #proceed_button{
    margin-bottom: 50px!important;
    transform: translateX(-15px)!important;
  }
  input {
    margin-right: 50px!important;
    margin-bottom: 40px;
    transform: scale(1.25)!important;
  }
  #checkboxes {
    margin: 0 auto;
    width: 645px;
    transform: translate(10px, 10px);
  }
  hr {
    transform: translateY(-10px);
  }
  #endRadio:after {
    display: none;
  }
  .option-input:after {
    display: block;
    content: " ";
    position: absolute!important;
    bottom: 8px;
    background: rgb(63, 151, 246);
    height: 1px;
    width: 30px;
    right: -30px;
  }
  .radio:hover {
    background-color: #a7d4ef!important;
    cursor: pointer;
  }
  .radio:focus {
    background-color: #a7d4ef!important;
  }
  
  .option-input:checked::after {
  -webkit-animation: none!important;
  -moz-animation: none!important;
  animation: none!important;
  content: '';
  z-index: 100;
  }
  .response1 {
    background: #FFF!important;
    background-image: url(../../collector-experiments/User/Assets/Global/img/radio_numbers/one.svg)!important;
  }
    .response1:checked {
      background: #3f97f6!important;
      background-image: url(../../collector-experiments/User/Assets/Global/img/radio_numbers/checked/one.svg)!important;
    }
  .response2 {
    background: #FFF!important;
    background-image: url(../../collector-experiments/User/Assets/Global/img/radio_numbers/two.svg)!important;
  }
    .response2:checked {
      background: #3f97f6!important;
      background-image: url(../../collector-experiments/User/Assets/Global/img/radio_numbers/checked/two.svg)!important;
    }
  .response3 {
    background: #FFF!important;
    background-image: url(../../collector-experiments/User/Assets/Global/img/radio_numbers/three.svg)!important;
  }
    .response3:checked {
      background: #3f97f6!important;
      background-image: url(../../collector-experiments/User/Assets/Global/img/radio_numbers/checked/three.svg)!important;
    }
  .response4 {
    background: #FFF!important;
    background-image: url(../../collector-experiments/User/Assets/Global/img/radio_numbers/four.svg)!important;
  }
    .response4:checked {
      background: #3f97f6!important;
      background-image: url(../../collector-experiments/User/Assets/Global/img/radio_numbers/checked/four.svg)!important;
    }
  .response5 {
    background: #FFF!important;
    background-image: url(../../collector-experiments/User/Assets/Global/img/radio_numbers/five.svg)!important;
  }
    .response5:checked {
      background: #3f97f6!important;
      background-image: url(../../collector-experiments/User/Assets/Global/img/radio_numbers/checked/five.svg)!important;
    }
  .response6 {
    background: #FFF!important;
    background-image: url(../../collector-experiments/User/Assets/Global/img/radio_numbers/six.svg)!important;
  }
    .response6:checked {
      background: #3f97f6!important;
      background-image: url(../../collector-experiments/User/Assets/Global/img/radio_numbers/checked/six.svg)!important;
    }
  .response7 {
    background: #FFF!important;
    background-image: url(../../collector-experiments/User/Assets/Global/img/radio_numbers/seven.svg)!important;
  }
    .response7:checked {
      background: #3f97f6!important;
      background-image: url(../../collector-experiments/User/Assets/Global/img/radio_numbers/checked/seven.svg)!important;
    }
  .response8 {
    background: #FFF!important;
    background-image: url(../../collector-experiments/User/Assets/Global/img/radio_numbers/eight.svg)!important;
  }
    .response8:checked {
      background: #3f97f6!important;
      background-image: url(../../collector-experiments/User/Assets/Global/img/radio_numbers/checked/eight.svg)!important;
    }
  .response9 {
    background: #FFF!important;
    background-image: url(../../collector-experiments/User/Assets/Global/img/radio_numbers/nine.svg)!important;
  }
    .response9:checked {
      background: #3f97f6!important;
      background-image: url(../../collector-experiments/User/Assets/Global/img/radio_numbers/checked/nine.svg)!important;
    }
  
  /* Restyle all the radio buttons to make the numbers appear a good size */
    .option-input {
      background-size: 10px!important;
      background-repeat: no-repeat!important;
      background-position: center!important;
      transform: scale(1.5)!important;
    }
    .option-input:checked {
      background-size: 10px!important;
      background-repeat: no-repeat!important;
      background-position: center!important;
    }
  .warning {
    color: red;
  }
  section{
    display: table;
    width: 590px;
    transform: translateY(-20px);
  }
  section > * {
    display: table-row;
  }
  .leftAlign3 {
    text-align: left;
    font-size: 13.5px;
    display: table-cell;
    width:175px;
  }
  .centerAlign3 {
    text-align: center;
    font-size: 13.5px;
    display: table-cell;
    width:200px;
  }
  .rightAlign3 {
    text-align: right;
    font-size: 13.5px;
    display: table-cell;
    width:190px;
    padding-right: 8px;
  }
    .leftAlign2 {
    text-align: left;
    font-size: 13.5px;
    display: table-cell;
    width:292px;
  }
  .rightAlign2 {
    text-align: right;
    font-size: 13.5px;
    display: table-cell;
    width:292px;
    padding-right: 8px;
  }
</style>
<button id="zoomOut" tabindex="-1"></button>
<button id="zoomIn" tabindex="-1"></button>
<div id="container">
  <h2><span>Word Rating: {{word}}</span></h2>
  <br>
  <p>Read the scales carefully before you start rating the word!</p>
  <br>
  <!--<form>-->
    <p id="q1Label"><b>Personal use:</b> How often do <b>YOU</b> use the word '{{word}}' in any way - speaking or writing? Give a 1–9 rating:</p>
    <div id="checkboxes">
      <input type="radio" name="jq1" class="option-input response1 radio jq1" value="1">
      <input type="radio" name="jq1" class="option-input response2 radio jq1" value="2">
      <input type="radio" name="jq1" class="option-input response3 radio jq1" value="3">
      <input type="radio" name="jq1" class="option-input response4 radio jq1" value="4">
      <input type="radio" name="jq1" class="option-input response5 radio jq1" value="5">
      <input type="radio" name="jq1" class="option-input response6 radio jq1" value="6">
      <input type="radio" name="jq1" class="option-input response7 radio jq1" value="7">
      <input type="radio" name="jq1" class="option-input response8 radio jq1" value="8">
      <input type="radio" name="jq1" class="option-input response9 radio jq1" id="endRadio" value="9">
      <input type="hidden" id="jq1_response" name="jq1" class="responseValues" value="0"/>
      <br>
      <section id="anchorTable">
          <div class="minor">
            <div class="leftAlign3">I never use '{{word}}'</div>
            <div class="centerAlign3">I sometimes use '{{word}}'</div>
            <div class="rightAlign3">I use '{{word}}' all the time</div>
          </div>
      </section>
    </div>
    <hr>
    <p id="q2Label"><b>Familiarity:</b> How often do you <b>encounter</b> the word '{{word}}'? For example, you may hear it used in a conversation,
  on the radio, in a movie or on TV, or you may read the word in a magazine, book, on the Internet, etc. Give a 1–9 rating:</p>
    <div id="checkboxes">
      <input type="radio" name="jq2" class="option-input response1 radio jq2" value="1">
      <input type="radio" name="jq2" class="option-input response2 radio jq2" value="2">
      <input type="radio" name="jq2" class="option-input response3 radio jq2" value="3">
      <input type="radio" name="jq2" class="option-input response4 radio jq2" value="4">
      <input type="radio" name="jq2" class="option-input response5 radio jq2" value="5">
      <input type="radio" name="jq2" class="option-input response6 radio jq2" value="6">
      <input type="radio" name="jq2" class="option-input response7 radio jq2" value="7">
      <input type="radio" name="jq2" class="option-input response8 radio jq2" value="8">
      <input type="radio" name="jq2" class="option-input response9 radio jq2" id="endRadio" value="9">
      <input type="hidden" id="jq2_response" name="jq2" class="responseValues" value="0"/>
      <br>
      <section id="anchorTable">
          <div class="minor">
            <div class="leftAlign3">I never encounter '{{word}}'</div>
            <div class="centerAlign3">I sometimes encounter '{{word}}'</div>
            <div class="rightAlign3">I encounter '{{word}}' all the time</div>
          </div>
        </section>
      </div>
      <hr>
    </section>
    <p id="q3Label"><b>Offensiveness:</b> How offensive is this word '{{word}}' to <b>YOU</b>? Give a 1–9 rating:</p>
    <div id="checkboxes">
      <input type="radio" name="jq3" class="option-input response1 radio jq3" value="1">
      <input type="radio" name="jq3" class="option-input response2 radio jq3" value="2">
      <input type="radio" name="jq3" class="option-input response3 radio jq3" value="3">
      <input type="radio" name="jq3" class="option-input response4 radio jq3" value="4">
      <input type="radio" name="jq3" class="option-input response5 radio jq3" value="5">
      <input type="radio" name="jq3" class="option-input response6 radio jq3" value="6">
      <input type="radio" name="jq3" class="option-input response7 radio jq3" value="7">
      <input type="radio" name="jq3" class="option-input response8 radio jq3" value="8">
      <input type="radio" name="jq3" class="option-input response9 radio jq3" id="endRadio" value="9">
      <input type="hidden" id="jq3_response" name="jq3" class="responseValues" value="0"/>
      <br>
      <section id="anchorTable">
        <div class="minor">
          <div class="leftAlign2">I am not at all offended by '{{word}}'</div>
          <div class="rightAlign2">'{{word}}' is very offensive to me</div>
        </div>
      </section>
    </div>
    <hr>
    <p id="q4Label"><b>Tabooness:</b> How taboo or <b>socially unacceptable</b>  is the word '{{word}}' to <b>peope in general</b>? Imagine the word being used at work, in a classroom, at a religious service, at a cocktail party, with friends, with family, etc. Give a 1–9 rating:</p>
    <div id="checkboxes">
      <input type="radio" name="jq4" class="option-input response1 radio jq4" value="1">
      <input type="radio" name="jq4" class="option-input response2 radio jq4" value="2">
      <input type="radio" name="jq4" class="option-input response3 radio jq4" value="3">
      <input type="radio" name="jq4" class="option-input response4 radio jq4" value="4">
      <input type="radio" name="jq4" class="option-input response5 radio jq4" value="5">
      <input type="radio" name="jq4" class="option-input response6 radio jq4" value="6">
      <input type="radio" name="jq4" class="option-input response7 radio jq4" value="7">
      <input type="radio" name="jq4" class="option-input response8 radio jq4" value="8">
      <input type="radio" name="jq4" class="option-input response9 radio jq4" id="endRadio" value="9">
      <input type="hidden" id="jq4_response" name="jq4" class="responseValues" value="0"/>
      <br>
      <section id="anchorTable">
        <div class="minor">
          <div class="leftAlign3">Not at all taboo</div>
          <div class="centerAlign3">Medium taboo</div>
          <div class="rightAlign3">Very taboo</div>
        </div>
      </section>
    </div>
    <hr>
    <p id="q5Label"><b>Valence:</b> How positive or negative is the word '{{word}}'? Give a 1–9 rating:</p>
    <div id="checkboxes">
      <input type="radio" name="jq5" class="option-input response1 radio jq5" value="1">
      <input type="radio" name="jq5" class="option-input response2 radio jq5" value="2">
      <input type="radio" name="jq5" class="option-input response3 radio jq5" value="3">
      <input type="radio" name="jq5" class="option-input response4 radio jq5" value="4">
      <input type="radio" name="jq5" class="option-input response5 radio jq5" value="5">
      <input type="radio" name="jq5" class="option-input response6 radio jq5" value="6">
      <input type="radio" name="jq5" class="option-input response7 radio jq5" value="7">
      <input type="radio" name="jq5" class="option-input response8 radio jq5" value="8">
      <input type="radio" name="jq5" class="option-input response9 radio jq5" id="endRadio" value="9">
      <input type="hidden" id="jq5_response" name="jq5" class="responseValues" value="0"/>
      <br>
      <section id="anchorTable">
        <div class="minor">
          <div class="leftAlign3">Strongly negative</div>
          <div class="centerAlign3">Not negative or positive</div>
          <div class="rightAlign3">Strongly positive</div>
        </div>
      </section>
    </div>
    <hr>
    <p id="q6Label"><b>Arousal:</b> How How exciting is the word '{{word}}'? Consider how much the word <b>grabs your attention</b>.<br>Give a 1–9 rating:</p>
    <div id="checkboxes">
      <input type="radio" name="jq6" class="option-input response1 radio jq6" value="1">
      <input type="radio" name="jq6" class="option-input response2 radio jq6" value="2">
      <input type="radio" name="jq6" class="option-input response3 radio jq6" value="3">
      <input type="radio" name="jq6" class="option-input response4 radio jq6" value="4">
      <input type="radio" name="jq6" class="option-input response5 radio jq6" value="5">
      <input type="radio" name="jq6" class="option-input response6 radio jq6" value="6">
      <input type="radio" name="jq6" class="option-input response7 radio jq6" value="7">
      <input type="radio" name="jq6" class="option-input response8 radio jq6" value="8">
      <input type="radio" name="jq6" class="option-input response9 radio jq6" id="endRadio" value="9">
      <input type="hidden" id="jq6_response" name="jq6" class="responseValues" value="0"/>
      <br>
      <section id="anchorTable">
        <div class="minor">
          <div class="leftAlign3">Not arousing at all</div>
          <div class="centerAlign3">Medium arousing</div>
          <div class="rightAlign3">Very arousing</div>
        </div>
      </section>
    </div>
    <hr>
    <p id="q7Label"><b>Imagery:</b> How easily does the word '{{word}}' bring an image to mind? When you think of the word, can you picture what it is? If this is easy, the word is high in imagery. For example, a word like “apple” has more imagery than a word like “honor.” Give a 1–9 rating:</p>
    <div id="checkboxes">
      <input type="radio" name="jq7" class="option-input response1 radio jq7" value="1">
      <input type="radio" name="jq7" class="option-input response2 radio jq7" value="2">
      <input type="radio" name="jq7" class="option-input response3 radio jq7" value="3">
      <input type="radio" name="jq7" class="option-input response4 radio jq7" value="4">
      <input type="radio" name="jq7" class="option-input response5 radio jq7" value="5">
      <input type="radio" name="jq7" class="option-input response6 radio jq7" value="6">
      <input type="radio" name="jq7" class="option-input response7 radio jq7" value="7">
      <input type="radio" name="jq7" class="option-input response8 radio jq7" value="8">
      <input type="radio" name="jq7" class="option-input response9 radio jq7" id="endRadio" value="9">
      <input type="hidden" id="jq7_response" name="jq7" class="responseValues" value="0"/>
      <br>
      <section id="anchorTable">
        <div class="minor">
          <div class="leftAlign2">Doesn't bring an image to mind</div>
          <div class="rightAlign2">Brings a vivid image to mind</div>
        </div>
      </section>
    </div>
  <!--</form>-->
  <br>
  <button class="btn btn-primary" id="proceed_button">Next Word</button>
</div>
<script>
  function appropriate_message(this_message) {
    bootbox.alert(this_message);
  }
  
  var score1 = null;
  var score2 = null;
  var score3 = null;
  var score4 = null;
  var score5 = null;
  var score6 = null;
  var score7 = null;
  
  $('#container').on('change', function() {
    // This stores all the response values back into their inputs so Collector adds them to the data
    $('#jq1_response').val($('.jq1:checked').val());
    $('#jq2_response').val($('.jq2:checked').val());
    $('#jq3_response').val($('.jq3:checked').val());
    $('#jq4_response').val($('.jq4:checked').val());
    $('#jq5_response').val($('.jq5:checked').val());
    $('#jq6_response').val($('.jq6:checked').val());
    $('#jq7_response').val($('.jq7:checked').val());

    // This assigns the response values to variables so we can validate the form by checking if they are "null"
    score1 = $('.jq1:checked').val();
    score2 = $('.jq2:checked').val();
    score3 = $('.jq3:checked').val();
    score4 = $('.jq4:checked').val();
    score5 = $('.jq5:checked').val();
    score6 = $('.jq6:checked').val();
    score7 = $('.jq7:checked').val();
  });
  
  var startPhase = {{text}};
  // This sets a global variable which we +1 every submission to allow us to count completed trials
    if (parent.parent.blockCount == null) {
      parent.parent.blockCount = 1;
      console.log("First Trial: "+parent.parent.blockCount);
      $("h2 span").text($("h2 span").text().replace("Rating", "Rating 1"));
    } else {
      parent.parent.blockCount = parent.parent.blockCount;
      $("h2 span").text($("h2 span").text().replace("Rating", "Rating "+parent.parent.blockCount));
      console.log("Subequent Trial: "+parent.parent.blockCount);
    }
    parent.parent.blockCount++
    
  // This swaps the submission button text when we reach the last word in the block
  if (parent.parent.blockCount == 21 || parent.parent.blockCount == 41) {
    $('#proceed_button').html("End Block");
  }

  // -------------- //
  // SUBMIT ACTIONS //
  // -------------- //
  
  $('#proceed_button').click(function() {
    
    // First we validate the form by checking we have complete responses. If there are null values, we alert the user and change the relevant text red. Else, we move to the next word
    if (score1 == null || score2 == null || score3 ==null || score4 == null || score5 == null || score6 == null || score7 == null) {
      appropriate_message("<b>Missing responses</b><br>Sorry, you have missed one or more questions, these are now highlighted in red. Please fill in all the questions");
        if (score1 == null) { $('#q1Label').css('color','red');} else {$('#q1Label').css('color','green');}
        if (score2 == null) { $('#q2Label').css('color','red');} else {$('#q2Label').css('color','green');}
        if (score3 == null) { $('#q3Label').css('color','red');} else {$('#q3Label').css('color','green');}
        if (score4 == null) { $('#q4Label').css('color','red');} else {$('#q4Label').css('color','green');}
        if (score5 == null) { $('#q5Label').css('color','red');} else {$('#q5Label').css('color','green');}
        if (score6 == null) { $('#q6Label').css('color','red');} else {$('#q6Label').css('color','green');}
        if (score7 == null) { $('#q7Label').css('color','red');} else {$('#q7Label').css('color','green');}
    } else {
      Phase.submit();
    }
  });
</script>
<script src="../../collector-experiments/User/Assets/Global/js/zoom_script.js"></script>