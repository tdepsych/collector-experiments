<!--'msc_videos' PhaseType-->
<style>
  video {
    cursor: pointer;
  }
  #proceed_button, #ldt_instruction{
    display:none;
    margin-top: 0px;
    margin-bottom: 0px;
    margin:auto;
}
  }
</style>
<button id="zoomOut" class="zoomBtn"></button>
<button id="zoomIn" class="zoomBtn"></button>
<div id="container">
  <h2><span>{{task_title}}</span></h2><br/>
  <p>{{task_body_text}}</p><br>
  <video id="video" src="../../collector-experiments/User/Assets/MSc/videos/{{text}}.mp4" width="100%" controls poster="../../collector-experiments/User/Assets/MSc/videos/posters/{{text}}.jpg" onended="videoEnded(this)" disablePictureInPicture>
  </video><br>
  <p style="font-style:italic"><span style="font-style:italic;color:#808080;">Note: If you would like to watch the video again, simply click the video once it has finished</span></p>
  <br/>
  <!--<div id="continueBtn" style="text-align:center;">-->
    <p id="ldt_instruction">Please position your fingers over P and Q and press space to begin</p>
    <button class="btn btn-primary" id="proceed_button" onclick="Phase.submit()">Start</button>
  <!--</div>-->
</div>
<script>
  //--------------------------------//
  // DISPLAY BUTTON & REFRESH VIDEO //
  //--------------------------------//
  var text = "{{text}}";
  video.addEventListener('playing', (event) => {
    if (video.hasAttribute("controls")) {
     video.removeAttribute("controls");
     video.setAttribute("style", "cursor: none;");
  } else {
     video.setAttribute("controls","controls");
     video.setAttribute("style", "cursor: pointer;");
  }
  });
    
  video.addEventListener('ended', (event) => {
   if (text == "ldt" || text == "ldt_img" ||text == "ldt_eyes") {
      $('#ldt_instruction').show();
      if (video.hasAttribute("controls")) {
        video.removeAttribute("controls");
        video.setAttribute("style", "cursor: none;");
      } else {
        video.setAttribute("controls","controls")
        video.setAttribute("style", "cursor: pointer;");
      }
    } else {
      $('#proceed_button').show();
      if (video.hasAttribute("controls")) {
        video.removeAttribute("controls");
        video.setAttribute("style", "cursor: none;");
      } else {
        video.setAttribute("controls","controls");
        video.setAttribute("style", "cursor: pointer;");
      }
    }
  });
  
  function videoEnded(video) {
   video.load();
  };
</script>
<script src="../../collector-experiments/User/Assets/Global/js/zoom_script.js"></script>
<link rel="stylesheet" href="../../collector-experiments/User/Assets/Global/css/global_css.css">